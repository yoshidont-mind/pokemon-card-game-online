# ポケモンカードゲーム ルール整理（要件定義ベース）

作成日: 2026-02-18  
対象: 本プロジェクト（オンライン対戦シミュレーション）の要件定義

---

## 1. この文書の目的

本ドキュメントは、ポケモンカードゲーム公式ルール（日本公式）を、実装要件に落とし込みやすい粒度で整理したものです。  
特に以下を目的とします。

- ルールの網羅的な整理（準備・進行・勝敗・制約・特殊状態）
- 画面シミュレーション実装に必要な仕様の明確化
- 「自動裁定しない」方針でも破綻しない操作要件の定義

注記:
- ここでは「公式の基本ルール」を中心に整理しています。
- 大会運営（時間切れ処理、ペナルティ詳細など）のフロアルール全体は別文書で扱う前提です。

---

## 2. 参照した一次情報（日本公式）

- 公式ルールページ: https://www.pokemon-card.com/rules/
- 上級プレイヤー用ルールガイド（更新日: 2025-08-01）:
  https://www.pokemon-card.com/rules/advanced-manual/
- 「遊びかた」公式解説（セットアップ・進行・特殊状態・勝敗）:
  https://www.pokemon-card.com/rules/howtoplay/
- レギュレーション（スタンダード）:
  https://www.pokemon-card.com/rules/regulation/

確認日: 2026-02-18

---

## 3. ルールの適用範囲と前提

### 3.1 対戦の基本前提

- 対戦は2人で行う。
- 各プレイヤーは自分のデッキを使用する。
- 先攻・後攻を決め、交互に番を進める。

### 3.2 デッキ構築の基本

- デッキ枚数は60枚。
- 同名カードは原則4枚まで。
- 基本エネルギーは同名4枚制限の対象外（複数枚採用可）。
- 特殊エネルギーは同名4枚制限の対象。

補足:
- 本プロジェクトのシミュレーション対象をスタンダード中心にする場合、使用可能カードはレギュレーション更新に追従して管理する必要がある。
- スタンダードレギュレーションの公式記載（2026-02-18時点）:
  - `H`: 2024-01-26 から使用可
  - `I`: 2025-01-24 から使用可
  - `J`: 2026-01-24 から使用可

---

## 4. カード種別と基本制約

### 4.1 ポケモン

- ポケモンには HP / ワザ / にげるためのエネルギー / 弱点 / 抵抗力 などがある。
- きぜつすると、そのポケモンと付いているカードをすべてトラッシュする。
- ルールを持つポケモン（例: ポケモンex 等）は、きぜつ時に相手が取るサイド枚数が増える場合がある。
- 公式FAQ上、ルールを持つポケモンの例として
  `ポケモンex / ポケモンV / ポケモンVMAX / ポケモンVSTAR / ポケモンV-UNION / かがやくポケモン`
  などが示されている。実装時はカード個別テキストを優先してサイド取得枚数を判定する。

### 4.2 進化

- 進化は自分の番に行う。
- 出したばかりの番のポケモンは進化できない。
- 先攻プレイヤーの最初の番は進化できない。
- 進化すると、進化前のポケモンにかかっていた特殊状態はなくなる（ダメカンは引き継ぐ）。

### 4.3 トレーナーズ

- グッズ: 自分の番に何枚でも使える。
- サポート: 自分の番に1枚のみ。
- スタジアム: 自分の番に1枚のみ（場と同名スタジアムは出せない）。
- ポケモンのどうぐ: 1匹に1枚のみ付けられる。基本的に自分都合で付け替え不可。

### 4.4 エネルギー

- 自分の番に、手札から自分のポケモンへエネルギーを1枚付けられる。
- ワザに必要なエネルギーがそろっていればワザを使える。
- にげるときのエネルギー支払いはタイプ指定なし（必要個数を満たせばよい）。

---

## 5. 対戦準備（セットアップ）

以下の流れで対戦を開始する。

1. あいさつし、先攻後攻を決める。
2. 互いにデッキをシャッフルし、山札として置く。
3. 各プレイヤーは山札から7枚引き、手札にする。
4. 手札のたねポケモンを1枚、ウラ向きでバトル場へ置く。
5. たねポケモンを0〜5枚、ウラ向きでベンチに置ける。
6. 山札の上から6枚をサイドとしてウラ向きで置く。
7. 両者の準備完了後、バトルポケモンとベンチをオモテにして対戦開始。

マリガン（引き直し）:
- 初手にたねポケモンが1枚もない場合、手札を相手に見せて山札へ戻し、シャッフルして7枚引き直す。
- 相手は、相手のマリガン回数ぶん追加ドローできる（任意）。
- 両者マリガンが重なった場合は、先攻プレイヤー側から処理する。

---

## 6. 番の進行（ターン構造）

### 6.1 自分の番の開始

- 自分の番の最初に山札から1枚引く。
- 引くべきタイミングで山札が0枚なら負け。

### 6.2 自分の番にできること（基本）

行動は基本的に任意順で実行できる（カードテキストや状態異常による制約あり）。

- たねポケモンをベンチに出す
- ポケモンを進化させる
- エネルギーを1枚付ける（番に1回）
- トレーナーズを使う（種別ごとの回数制限あり）
- 特性を使う（カードテキストに従う）
- バトルポケモンをにげさせる（番に1回）
- ワザを使う（使ったら通常はその番終了）
- 何もせず番を終える

### 6.3 先攻1ターン目の制約

- 先攻プレイヤーの最初の番は、サポートを使えない。
- 先攻プレイヤーの最初の番は、ワザを使えない。

### 6.4 にげる（retreat）の扱い

- にげるは自分の番に1回のみ。
- バトルポケモンが「ねむり」または「マヒ」のときは、にげられない。
- にげるために必要なエネルギーをトラッシュし、ベンチから1匹を新しいバトルポケモンにする。
- にげるためのエネルギーはタイプ指定がない（必要個数ぶん支払えばよい）。

---

## 7. 攻撃・ダメージ・きぜつ

### 7.1 ワザの使用

- 必要エネルギーを満たしているワザを宣言して使う。
- 使った後、通常は番が終了する。

### 7.2 ダメージ計算の基本

- ワザダメージは、基本的に相手のバトルポケモンへ与える。
- 弱点・抵抗力は、特に指定がない限りバトルポケモンにのみ適用。
- ベンチポケモンへ与えるダメージは、カードテキストで明示された場合のみ。

### 7.3 ダメージとダメカン

- ダメカン1個 = ダメージ10。
- 「ダメージを与える」処理と「ダメカンをのせる」処理は別概念として扱う（カード効果で参照先が異なるため）。

### 7.4 きぜつとサイド

- 蓄積ダメージがHP以上になると、そのポケモンはきぜつ。
- きぜつしたポケモンと付属カードをトラッシュ。
- きぜつさせた側はサイドを取る。
- 取る枚数は通常1枚だが、ルールを持つポケモンでは2枚以上になる場合がある。
  - 例: ポケモンexは2枚、メガシンカexは3枚（カード記載ルールに従う）。

同時きぜつ時:
- おたがいのバトルポケモンが同時にきぜつした場合、次の番のプレイヤー側から新しいバトルポケモンを場に出す。

---

## 8. ポケモンチェック（番と番の間）

番終了後、次の番が始まる前にポケモンチェックを行う。

対象:
- 原則、バトル場のポケモン

主な処理:
- どく: ダメカンを1個のせる
- やけど: ダメカンを2個のせる。その後コインを投げ、オモテなら回復
- ねむり: コインを投げ、オモテなら回復
- マヒ: そのポケモンの次の自分の番の終わりに回復

実装メモ:
- ポケモンチェック中にきぜつが発生することがあるため、きぜつ処理と勝敗判定を番間処理の中に組み込む必要がある。

---

## 9. 特殊状態

### 9.1 種類

- どく
- やけど
- ねむり
- マヒ
- こんらん

### 9.2 行動制約（代表）

- ねむり: ワザ使用不可、にげる不可
- マヒ: ワザ使用不可、にげる不可
- こんらん: ワザ宣言時にコイン判定。失敗で自分にダメカン3個、ワザ不発

### 9.3 重複ルール

- 「こんらん / マヒ / ねむり」は同時に重ならない（新しく受けたものに置き換わる）。
- 「どく」「やけど」は他の特殊状態と重なり得る。

### 9.4 回復ルール

- バトル場からベンチに下がると、特殊状態はすべて回復。
- 進化しても、特殊状態は回復。

---

## 10. 勝敗条件

以下のいずれかを満たすと勝利。

1. 自分のサイドをすべて取りきる
2. 相手の場のポケモンがいなくなる
3. 相手が番の最初に山札を引けない

同時成立時:
- おたがいが同時に勝利条件を満たした場合はサドンデス。

補足:
- サドンデスの運用詳細（再戦の具体手順）は、対戦形式（カジュアル/大会）で定義が変わりうるため、別途プロジェクト仕様として固定する。

---

## 11. 公開情報・非公開情報

公開情報として扱うもの（対戦中に確認可能）:
- 場に出ているカード
- トラッシュ
- おたがいの場のカード情報

非公開情報として扱うもの:
- 手札
- 山札の中身/順番
- サイドの中身

補足:
- 手札上限はない。
- 自分の手札や自分がセットしたウラ向きカードは確認可能。
- 相手の手札は確認できない。

---

## 12. 効果処理の原則（実装上重要）

上級プレイヤー用ルールガイドに基づく、実装影響が大きい原則:

- カードテキストは基本ルールに優先する。
- 可能/不可能が競合する場合、原則「できない」が優先される。
- 指示がある処理は、可能な範囲で最大限実行する。
- 「好きな枚数」指定と「1枚以上/ちょうどN枚」指定は区別して扱う。
- 「○枚まで」指定では 0枚選択が許容される。
- 山札からカードを探す効果で、見たあとは山札を切り直す指示に従う。
- 一部トレーナーズは、効果処理が1つも成立しない場合は使えない（テキスト依存）。
- 場に出したカードや、使用宣言済みカードを自分都合で手札へ戻すことはできない（カード効果がある場合を除く）。

---

## 13. 本プロジェクト向けの実装要件チェックリスト

以下は、上記ルールをシミュレーションで再現するための必須管理項目。

### 13.1 状態管理（最低限）

- ターン情報: `currentPlayer`, `turnNumber`, `phase`
- 盤面ゾーン:
  - `deck`, `hand`, `active`, `bench`, `discard`, `prize`, `stadium`
- 公開/非公開制御
- 先攻1ターン目制約フラグ
- 番ごとの利用回数制限フラグ:
  - エネルギー手貼り
  - サポート使用
  - にげる

### 13.2 ポケモン状態

- HP（基礎値）
- 蓄積ダメージまたはダメカン
- 特殊状態フラグ
- 進化段階・進化元参照
- 付属カード（エネルギー、どうぐ、その他付随カード）

### 13.3 裁定ロジック（自動化しない前提でも必要）

- 可能/不可能チェック
  - 例: 先攻1ターン目のサポート禁止
  - 例: 出した番の進化禁止
- ワザ使用後のターン終了
- きぜつ時のカード移動とサイド取得
- 番間のポケモンチェック処理
- 勝敗判定（同時成立時のサドンデス遷移含む）

### 13.4 UI/操作

- ドロー、シャッフル、移動（ゾーン間）、重ねる、ダメカン操作
- 手札/山札/サイドの情報公開制御
- 対戦ログ（誰が何をしたか）
- 取り消し/修正が必要な運用フロー（手動裁定を想定）

### 13.5 行動可否チェック（実装必須）

- 先攻1ターン目:
  - サポート不可
  - ワザ不可
- 進化:
  - 出した番は不可
  - 先攻最初の番は不可
- 回数制限:
  - エネルギー手貼り 1回/番
  - サポート 1枚/番
  - スタジアム 1枚/番
  - にげる 1回/番
- 状態異常:
  - ねむり/マヒ時はワザ・にげる不可
  - こんらん時のワザ前コイン判定

### 13.6 同期実装（オンライン対戦で必須）

- 2プレイヤーの同時操作競合を防ぐ排他制御
- ターン所有者以外の操作拒否
- 公開情報のみ相手に同期（手札などの非公開情報は秘匿）
- 操作履歴（時系列ログ）を保存し、UIで追えるようにする

---

## 14. 今後の要件定義で追加すべき観点

- スタンダード限定か、エクストラ/殿堂も扱うか
- ルールを持つポケモンの種類ごとのサイド枚数仕様（世代差分含む）
- 公式Q&Aレベルの個別裁定（ダメージ置換、効果無効、同時処理順序など）
- 大会運営ルール（時間切れ、ジャッジ裁定）をシミュレーション対象に含めるか

---

## 15. 参考URL（再掲）

- https://www.pokemon-card.com/rules/
- https://www.pokemon-card.com/rules/advanced-manual/
- https://www.pokemon-card.com/rules/howtoplay/
- https://www.pokemon-card.com/rules/regulation/
